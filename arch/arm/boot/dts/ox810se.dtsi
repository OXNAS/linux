/*
 * 810se.dtsi - Device tree file for PLXTech OX810SE SoC
 *
 * Copyright (C) 2016 Neil Armstrong <narmstrong@baylibre.com>
 *
 * Licensed under GPLv2 or later
 */

/include/ "skeleton.dtsi"

/ {
	compatible = "plxtech,ox810se";

	cpus {
		#address-cells = <0>;
		#size-cells = <0>;

		cpu {
			device_type = "cpu";
			compatible = "arm,arm926ej-s";
			clocks = <&armclk>;
		};
	};

	memory {
		/* Max 256MB @ 0x48000000 */
		reg = <0x48000000 0x10000000>;
	} ;

	aliases {
		serial0 = &uart0;
		serial1 = &uart1;
		serial2 = &uart2;
		serial3 = &uart3;
	};

	clocks {
		osc: oscillator {
			compatible = "fixed-clock";
			#clock-cells = <0>;
			clock-frequency  = <25000000>;
		};

		rpsclk: rpsclk {
			compatible = "fixed-factor-clock";
			#clock-cells = <0>;
			clock-div = <4>;
			clock-mult = <1>;
			clocks = <&osc>;
		};

		pll400: pll400 {
			compatible = "fixed-factor-clock";
			#clock-cells = <0>;
			clock-div = <1>;
			clock-mult = <8>;
			clocks = <&osc>;
		};

		sysclk: sysclk {
			compatible = "fixed-factor-clock";
			#clock-cells = <0>;
			clock-div = <4>;
			clock-mult = <1>;
			clocks = <&pll400>;
		};

		armclk: armclk {
			compatible = "fixed-factor-clock";
			#clock-cells = <0>;
			clock-div = <2>;
			clock-mult = <1>;
			clocks = <&pll400>;
		};
	};

	soc {
		#address-cells = <1>;
		#size-cells = <1>;
		compatible = "simple-bus";
		ranges;
		interrupt-parent = <&intc>;

		intc: interrupt-controller@45300000 {
			compatible = "plxtech,nas782x-rps";
			interrupt-controller;
			reg = <0x45300000 0x200>;
			#interrupt-cells = <1>;
		};

		timer@45300200 {
			compatible = "plxtech,nas782x-rps-timer";
			reg = <0x45300200 0x40>;
			clocks = <&rpsclk>;
		       	interrupts = <4>;
		};

		uart0: uart@44200000 {
		       compatible = "ns16550a";
		       reg = <0x44200000 0x100>;
		       clock-frequency = <6250000>;
		       interrupts = <23>;
		       reg-shift = <0>;
		       fifo-size = <16>;
		       reg-io-width = <1>;
		       current-speed = <115200>;
		       no-loopback-test;
		       status = "disabled";
	       	};

		uart1: uart@44300000 {
		       compatible = "ns16550a";
		       reg = <0x44300000 0x100>;
		       clock-frequency = <6250000>;
		       interrupts = <24>;
		       reg-shift = <0>;
		       fifo-size = <16>;
		       reg-io-width = <1>;
		       current-speed = <115200>;
		       no-loopback-test;
		       status = "disabled";
	       	};

		uart2: uart@44900000 {
		       compatible = "ns16550a";
		       reg = <0x44900000 0x100>;
		       clock-frequency = <6250000>;
		       interrupts = <29>;
		       reg-shift = <0>;
		       fifo-size = <16>;
		       reg-io-width = <1>;
		       current-speed = <115200>;
		       no-loopback-test;
		       status = "disabled";
	       	};

		uart3: uart@44a00000 {
		       compatible = "ns16550a";
		       reg = <0x44a00000 0x100>;
		       clock-frequency = <6250000>;
		       interrupts = <30>;
		       reg-shift = <0>;
		       fifo-size = <16>;
		       reg-io-width = <1>;
		       current-speed = <115200>;
		       no-loopback-test;
		       status = "disabled";
	       	};
	};
};

